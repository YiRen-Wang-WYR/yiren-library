import{_ as k,a0 as E,a1 as f,r as p,c as d,a as s,a2 as P,k as V,b as c,w,v as _,t as u,W as S,o as n}from"./index-Dv5_Y2yd.js";const A={class:"min-vh-100 d-flex align-items-center bg-light"},N={class:"container"},C={class:"row justify-content-center"},B={class:"col-12 col-sm-10 col-md-8 col-lg-5"},L={class:"card border-0 shadow-sm"},D={class:"card-body p-4"},U={class:"login-step"},j={class:"form-group mb-4"},I={key:0,class:"text-danger small mt-1"},M={key:0,class:"form-group mb-4"},R={key:0,class:"text-danger small mt-1"},T={key:1,class:"alert alert-danger py-2 mb-3"},W={class:"d-flex justify-content-between align-items-center mt-4"},F=["disabled"],X={__name:"LoginView",setup($){const m=S(),b=E(),a=f({username:"",password:""}),t=f({username:"",password:""}),l=p(""),i=p(!1),r=p(!1),h=o=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o),g=()=>{let o=!0;return t.username="",t.password="",a.username?h(a.username)||(t.username="Please enter a valid email address",o=!1):(t.username="Please enter your email",o=!1),r.value&&!a.password&&(t.password="Please enter your password",o=!1),o},y=async()=>{if(g()){if(!r.value){r.value=!0;return}i.value=!0,l.value="";try{await b.login({username:a.username,password:a.password}),b.isAdmin?m.push("/management"):m.push("/")}catch{l.value="Invalid email or password"}finally{i.value=!1}}},x=()=>{r.value?(r.value=!1,a.password="",t.password=""):m.push("/")};return(o,e)=>(n(),d("div",A,[s("div",N,[s("div",C,[s("div",B,[s("div",L,[s("div",D,[e[4]||(e[4]=s("h2",{class:"text-center mb-2"},"Welcome Back",-1)),e[5]||(e[5]=s("p",{class:"text-center text-muted mb-4"},"Sign in with your preferred method",-1)),s("div",U,[e[2]||(e[2]=s("h5",{class:"mb-3"},"Sign in with email",-1)),s("form",{onSubmit:V(y,["prevent"])},[s("div",j,[w(s("input",{type:"text",class:"form-control form-control-lg","onUpdate:modelValue":e[0]||(e[0]=v=>a.username=v),placeholder:"Email"},null,512),[[_,a.username]]),t.username?(n(),d("div",I,u(t.username),1)):c("",!0)]),r.value?(n(),d("div",M,[w(s("input",{type:"password",class:"form-control form-control-lg","onUpdate:modelValue":e[1]||(e[1]=v=>a.password=v),placeholder:"Password"},null,512),[[_,a.password]]),t.password?(n(),d("div",R,u(t.password),1)):c("",!0)])):c("",!0),l.value?(n(),d("div",T,u(l.value),1)):c("",!0),s("div",W,[s("button",{type:"button",class:"btn btn-link text-decoration-none",onClick:x}," CANCEL "),s("button",{type:"submit",class:"btn btn-primary px-4",disabled:i.value},u(i.value?"Please wait...":"NEXT"),9,F)])],32),e[3]||(e[3]=P('<div class="demo-accounts mt-4" data-v-004c56b2><div class="account-box admin-account mb-2" data-v-004c56b2><div class="account-title" data-v-004c56b2>Administrator Account</div><div class="account-details" data-v-004c56b2><code data-v-004c56b2>Email: admin@library.com</code><br data-v-004c56b2><code data-v-004c56b2>Password: admin123</code></div></div><div class="account-box user-account" data-v-004c56b2><div class="account-title" data-v-004c56b2>Regular User Account</div><div class="account-details" data-v-004c56b2><code data-v-004c56b2>Email: user@library.com</code><br data-v-004c56b2><code data-v-004c56b2>Password: user123</code></div></div></div>',1))])])])])])])]))}},z=k(X,[["__scopeId","data-v-004c56b2"]]);export{z as default};
