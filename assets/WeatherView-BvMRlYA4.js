import{a as p}from"./index-ngrFHoWO.js";import{_ as d,c as h,a as e,w as m,v as w,b as y,t as o,F as f,o as l}from"./index-Dv5_Y2yd.js";const u="f12d903eaa5d479357a04fb40dab83ca",g={name:"App",data(){return{city:"",weatherData:null}},computed:{temperature(){return this.weatherData?Math.round(this.weatherData.main.temp):null},iconUrl(){return this.weatherData?`https://openweathermap.org/img/wn/${this.weatherData.weather[0].icon}@2x.png`:null}},mounted(){this.fetchCurrentLocationWeather()},methods:{async fetchCurrentLocationWeather(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(async a=>{const{latitude:t,longitude:s}=a.coords,c=`https://api.openweathermap.org/data/2.5/weather?lat=${t}&lon=${s}&appid=${u}&units=metric`;await this.fetchWeatherData(c)})},async searchByCity(){if(!this.city.trim())return;const t=`https://api.openweathermap.org/data/2.5/weather?q=${encodeURIComponent(this.city.trim())}&appid=${u}&units=metric`;await this.fetchWeatherData(t)},async fetchWeatherData(a){try{const{data:t}=await p.get(a);this.weatherData=t}catch(t){console.error("Error fetching weather data:",t),this.weatherData=null}}}},D={class:"container"},_={class:"search-bar"},C={key:0},v=["src"];function W(a,t,s,c,r,n){return l(),h(f,null,[e("div",D,[t[2]||(t[2]=e("h1",null,"WEATHER APP",-1)),e("div",_,[m(e("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=i=>r.city=i),placeholder:"Enter city name",class:"search-input"},null,512),[[w,r.city]]),e("button",{class:"search-button",onClick:t[1]||(t[1]=(...i)=>n.searchByCity&&n.searchByCity(...i))},"Search")])]),e("main",null,[r.weatherData?(l(),h("div",C,[e("h2",null,o(r.weatherData.name)+", "+o(r.weatherData.sys.country),1),e("div",null,[e("img",{src:n.iconUrl,alt:"Weather Icon"},null,8,v),e("p",null,o(n.temperature)+" Â°C",1)]),e("span",null,o(r.weatherData.weather[0].description),1)])):y("",!0)])],64)}const B=d(g,[["render",W]]);export{B as default};
