import{a as c}from"./index-ngrFHoWO.js";import{_ as d,c as n,a as i,b as l,t as r,o as s}from"./index-Dv5_Y2yd.js";const k={name:"GetBookCountView",data(){return{count:null,error:null,loading:!1}},async mounted(){await this.getBookCount()},methods:{async getBookCount(){this.loading=!0,this.error=null,this.count=null;try{const o="https://us-central1-yiren-library.cloudfunctions.net/getBookCount",{data:t}=await c.get(o,{timeout:1e4});this.count=t?.count??0}catch(o){this.error=o?.response?.data?.error||o.message||"Error fetching book count",this.count=null,console.error(o)}finally{this.loading=!1}}}},g={id:"app"},h=["disabled"],m={key:0},p={key:1,style:{color:"#d33"}};function f(o,t,_,B,e,u){return s(),n("div",g,[t[1]||(t[1]=i("h1",null,"Book Counter",-1)),i("button",{onClick:t[0]||(t[0]=(...a)=>u.getBookCount&&u.getBookCount(...a)),disabled:e.loading},r(e.loading?"Loadingâ€¦":"Get Book Count"),9,h),e.count!==null?(s(),n("p",m,"Total number of books: "+r(e.count),1)):l("",!0),e.error?(s(),n("p",p,r(e.error),1)):l("",!0)])}const b=d(k,[["render",f]]);export{b as default};
